<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Multifactorial de Personalidad</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh; padding: 20px;
        }
        .container {
            max-width: 800px; margin: 0 auto; background: white;
            border-radius: 20px; padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 { color: #667eea; text-align: center; margin-bottom: 10px; font-size: 2em; }
        .subtitle { text-align: center; color: #666; margin-bottom: 15px; font-size: 0.9em; }
        .progress-bar { width: 100%; height: 8px; background: #e0e0e0; border-radius: 10px; margin-bottom: 30px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); width: 0%; transition: width 0.3s ease; }
        .question-container { margin-bottom: 30px; padding: 25px; background: #f8f9fa; border-radius: 15px; border-left: 5px solid #667eea; }
        .question-number { color: #667eea; font-weight: bold; margin-bottom: 10px; font-size: 0.9em; }
        .question-text { font-size: 1.1em; color: #333; margin-bottom: 20px; line-height: 1.5; }
        .options { display: flex; flex-direction: column; gap: 12px; }
        .option {
            display: flex; align-items: center; padding: 15px; background: white;
            border: 2px solid #e0e0e0; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;
        }
        .option:hover { border-color: #667eea; background: #f0f4ff; transform: translateX(5px); }
        .option input[type="radio"] { margin-right: 12px; cursor: pointer; width: 20px; height: 20px; accent-color: #667eea; }
        .option label { cursor: pointer; flex: 1; font-size: 1em; color: #555; }
        .option input[type="radio"]:checked + label { color: #667eea; font-weight: 600; }
        .button-container { text-align: center; margin-top: 30px; }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; border: none; padding: 15px 40px; font-size: 1.1em;
            border-radius: 30px; cursor: pointer; transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102,126,234,0.4);
        }
        button:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(102,126,234,0.6); }
        button:disabled { background: #ccc; cursor: not-allowed; box-shadow: none; transform: none; }
        .results { display: none; }
        .results.show { display: block; }
        .result-card { 
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); 
            padding: 25px; border-radius: 15px; margin-bottom: 25px; 
            border-left: 5px solid #667eea;
        }
        .result-title { font-size: 1.3em; color: #667eea; margin-bottom: 10px; font-weight: bold; }
        .result-score { font-size: 2em; color: #764ba2; font-weight: bold; margin-bottom: 15px; }
        .result-max { font-size: 0.9em; color: #666; }
        .result-interpretation {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 3px solid #764ba2;
        }
        .interpretation-title {
            font-weight: bold;
            color: #764ba2;
            margin-bottom: 8px;
            font-size: 1.05em;
        }
        .interpretation-text {
            color: #555;
            line-height: 1.6;
            font-size: 0.95em;
        }
        .hidden { display: none; }
        @media (max-width: 600px) {
            .container { padding: 20px; }
            h1 { font-size: 1.5em; }
            .question-text { font-size: 1em; }
            button { padding: 12px 30px; font-size: 1em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Test Multifactorial de Personalidad</h1>
        <p class="subtitle">Grupo Psicología 2º Bachillerato<br>IES Juan de la Cierva</p>
        <p class="subtitle">Responde con sinceridad a todas las preguntas</p>

        <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>

        <form id="testForm">
            <div id="questionsContainer"></div>
            <div class="button-container"><button type="submit" id="submitBtn">Ver Resultados</button></div>
        </form>

        <div class="results" id="results">
            <h1>Tus Resultados</h1>
            <div id="resultsContainer"></div>
            <div class="button-container"><button type="button" onclick="location.reload()">Realizar Test de Nuevo</button></div>
        </div>
    </div>

    <script>
        const questions = [
            {id: 'q1_1', text: '¿En una entrevista de trabajo, sabrías parecer una persona seria?', factor: 'caracter_risueno', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q1_2', text: '¿El estrés provocado por un examen hace que empeore tu estado de ánimo?', factor: 'caracter_risueno', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q1_3', text: 'Cuando te encuentras en un espacio público (como por ejemplo un ascensor), ¿tiendes a reírte?', factor: 'caracter_risueno', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q1_4', text: 'Si una persona con la que vas tropieza y cae, ¿tiendes a reírte?', factor: 'caracter_risueno', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q1_5', text: 'Te encuentras exponiendo en medio de clase, ¿te reirías?', factor: 'caracter_risueno', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},

            {id: 'q2_1', text: 'Si veo a una persona mayor con dificultad para cruzar, la ignoro.', factor: 'amabilidad', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q2_2', text: 'Si una persona no tiene comida, le comparto la mía.', factor: 'amabilidad', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q2_3', text: 'Si alguien no llega a coger algo de una estantería, le ayudo.', factor: 'amabilidad', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q2_4', text: 'No voy a clase porque nadie va, aunque una persona cercana sí tiene que ir y estará sola.', factor: 'amabilidad', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q2_5', text: 'Cuando voy a un restaurante, no doy las gracias al personal.', factor: 'amabilidad', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q2_6', text: 'Si alguien no ha terminado la tarea y yo sí, le ignoro.', factor: 'amabilidad', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},

            {id: 'q3_1', text: '¿Te molestarías si tu pareja está hablando con otra persona que puede estar interesada en ella y le acaricia el pelo?', factor: 'celos', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q3_2', text: '¿Te incomodaría ver a tu pareja hablando con otra persona que puede estar interesada en ella online?', factor: 'celos', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q3_3', text: '¿Te afectaría que tu pareja preste una sudadera a otra persona que puede estar interesada en ella?', factor: 'celos', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q3_4', text: '¿Dejarías que tu pareja acompañe a otra persona que puede estar interesada en ella a su casa?', factor: 'celos', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q3_5', text: 'Si una antigua relación de tu pareja está llorando, ¿llamarías a tu pareja para que vaya a consolarla?', factor: 'celos', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q3_6', text: '¿Te molestaría que tu pareja ayudase a otra persona que puede estar interesada en ella si lo necesita?', factor: 'celos', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},

            {id: 'q4_1', text: 'No me afecta utilizar el transporte público o incluso comer en él si es necesario.', factor: 'escrupulosidad', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q4_2', text: 'Me provocan rechazo las migas y restos de comida de otra persona.', factor: 'escrupulosidad', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q4_3', text: 'No soy capaz de comer del mismo recipiente que otra persona.', factor: 'escrupulosidad', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q4_4', text: 'Puedo lavar los platos sin que me produzca repulsión.', factor: 'escrupulosidad', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q4_5', text: 'Cada vez que ropa de calle toca mi cama, cambio las sábanas.', factor: 'escrupulosidad', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q4_6', text: 'Puedo compartir productos de higiene o belleza con otra persona.', factor: 'escrupulosidad', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},

            {id: 'q5_1', text: 'Estás en un grupo lleno de desconocidos y nadie habla. ¿Te atreves a iniciar conversación?', factor: 'extroversion', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q5_2', text: 'Si te sirven un plato que no has pedido, ¿pedirías que lo cambien?', factor: 'extroversion', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q5_3', text: 'Si vais a pedir comida a domicilio, ¿le pedirías a otra persona que llame por ti?', factor: 'extroversion', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q5_4', text: 'Si estás solo en tu clase y tus amistades están en otra, ¿pedirías el cambio?', factor: 'extroversion', scores: {'nada': 0, 'poco': 0, 'bastante': 1, 'muy': 2}},
            {id: 'q5_5', text: 'Si te surge una duda en clase y no entiendes la explicación, ¿te quedarías con la duda?', factor: 'extroversion', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}},
            {id: 'q5_6', text: 'Si vas a un karaoke con amistades y te animan a cantar en solitario, ¿rechazarías la idea?', factor: 'extroversion', scores: {'nada': 2, 'poco': 1, 'bastante': 0, 'muy': 0}}
        ];

        const interpretations = {
            'caracter_risueno': [
                { max: 4, title: 'Eres una persona seria o tranquila', text: 'Suelen mantener una actitud contenida en contextos sociales, con tendencia a la serenidad y el autocontrol emocional. Pueden mostrarse más reservados en situaciones espontáneas.' },
                { max: 6, title: 'A veces te ríes, otras veces no', text: 'Alternan momentos de seriedad con expresiones de humor o risa, adaptándose con flexibilidad a distintas situaciones sociales.' },
                { max: 10, title: 'Te ríes con facilidad y te muestras espontáneo', text: 'Tienen una disposición natural hacia la risa y la expresión emocional abierta. Suelen responder con espontaneidad y ligereza en entornos cotidianos.' }
            ],
            'amabilidad': [
                { max: 3, title: 'Prefieres no implicarte mucho con los demás', text: 'Prefieren mantener cierta distancia emocional con los demás. Su forma de relacionarse prioriza la autonomía y puede estar menos enfocada en gestos explícitos de cuidado.' },
                { max: 8, title: 'Te importa el bienestar de los demás, pero con equilibrio', text: 'Combinan actitudes de respeto interpersonal con muestras puntuales de atención a las necesidades de otros.' },
                { max: 12, title: 'Sueles cuidar y ayudar a las personas que te rodean', text: 'Muestran una sensibilidad destacada hacia el bienestar ajeno. Tienden a responder con disponibilidad y calidez ante situaciones sociales que requieren cooperación o ayuda.' }
            ],
            'celos': [
                { max: 6, title: 'Te sientes seguro en tus relaciones', text: 'Tienden a confiar en sus vínculos afectivos y suelen manejar con equilibrio las situaciones que implican la presencia de terceras personas.' },
                { max: 9, title: 'A veces te preocupan ciertas situaciones con tu pareja', text: 'Experimentan incomodidad o inquietud en contextos donde perciben señales de amenaza hacia sus relaciones afectivas.' },
                { max: 12, title: 'Vives las relaciones con mucha intensidad emocional', text: 'Pueden presentar una alta sensibilidad ante situaciones que interpretan como competencia afectiva. Les afectan especialmente las dudas o cambios en el vínculo.' }
            ],
            'escrupulosidad': [
                { max: 3, title: 'Te adaptas bien a casi cualquier entorno', text: 'Se adaptan con facilidad a entornos diversos sin experimentar incomodidad relacionada con normas estrictas de higiene o contacto físico.' },
                { max: 7, title: 'Te gusta el orden y la limpieza, pero sin obsesionarte', text: 'Muestran cierta atención a la limpieza y las normas de orden, sin que ello condicione su bienestar cotidiano.' },
                { max: 12, title: 'Eres muy cuidadoso con lo que consideras limpio o higiénico', text: 'Tienen una sensibilidad elevada ante situaciones relacionadas con la higiene y el contacto físico. Pueden sentir incomodidad en contextos donde perciben desorden o falta de limpieza.' }
            ],
            'extroversion': [
                { max: 4, title: 'Te cuesta tomar la iniciativa en público', text: 'Prefieren observar y escuchar antes de intervenir. Se sienten más cómodos en espacios tranquilos o con personas conocidas.' },
                { max: 8, title: 'Te desenvuelves bien en lo social sin forzarlo', text: 'Se desenvuelven con soltura en contextos sociales habituales. Saben adaptarse a diferentes entornos con una actitud comunicativa equilibrada.' },
                { max: 12, title: 'Eres sociable y sueles tomar la iniciativa con los demás', text: 'Disfrutan de la interacción con otras personas, tienden a asumir un papel activo en los grupos y se sienten cómodos en entornos dinámicos y abiertos.' }
            ]
        };

        function getInterpretation(factor, score) {
            const ranges = interpretations[factor];
            for (let range of ranges) {
                if (score <= range.max) {
                    return range;
                }
            }
            return ranges[ranges.length - 1];
        }

        const shuffledQuestions = questions.sort(() => Math.random() - 0.5);
        const container = document.getElementById('questionsContainer');

        shuffledQuestions.forEach((q, index) => {
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-container';
            questionDiv.innerHTML = `
                <div class="question-number">Pregunta ${index + 1} de ${shuffledQuestions.length}</div>
                <div class="question-text">${q.text}</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" id="${q.id}_nada" name="${q.id}" value="nada" required>
                        <label for="${q.id}_nada">Nada probable</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="${q.id}_poco" name="${q.id}" value="poco">
                        <label for="${q.id}_poco">Poco probable</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="${q.id}_bastante" name="${q.id}" value="bastante">
                        <label for="${q.id}_bastante">Bastante probable</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="${q.id}_muy" name="${q.id}" value="muy">
                        <label for="${q.id}_muy">Muy probable</label>
                    </div>
                </div>
            `;
            container.appendChild(questionDiv);
        });

        const form = document.getElementById('testForm');
        const progressFill = document.getElementById('progressFill');
        form.addEventListener('change', () => {
            const answered = document.querySelectorAll('input[type="radio"]:checked').length;
            const progress = (answered / shuffledQuestions.length) * 100;
            progressFill.style.width = progress + '%';
        });

        form.addEventListener('submit', (e) => {
            e.preventDefault();

            const answered = document.querySelectorAll('input[type="radio"]:checked').length;
            if (answered < shuffledQuestions.length) {
                alert(`Por favor, responde todas las preguntas. Te faltan ${shuffledQuestions.length - answered} preguntas.`);
                return;
            }

            const scores = {
                'caracter_risueno': 0,
                'amabilidad': 0,
                'celos': 0,
                'escrupulosidad': 0,
                'extroversion': 0
            };

            const maxScores = {
                'caracter_risueno': 10,
                'amabilidad': 12,
                'celos': 12,
                'escrupulosidad': 12,
                'extroversion': 12
            };

            shuffledQuestions.forEach(q => {
                const selected = document.querySelector(`input[name="${q.id}"]:checked`);
                if (selected) scores[q.factor] += q.scores[selected.value];
            });

            const factorNames = {
                'caracter_risueno': 'Carácter Risueño',
                'amabilidad': 'Amabilidad y Empatía',
                'celos': 'Celos e Inseguridad Afectiva',
                'escrupulosidad': 'Escrupulosidad y Limpieza',
                'extroversion': 'Extroversión'
            };

            const resultsContainer = document.getElementById('resultsContainer');
            resultsContainer.innerHTML = '';

            for (let factor in scores) {
                const interpretation = getInterpretation(factor, scores[factor]);
                const card = document.createElement('div');
                card.className = 'result-card';
                card.innerHTML = `
                    <div class="result-title">${factorNames[factor]}</div>
                    <div class="result-score">${scores[factor]} <span class="result-max">/ ${maxScores[factor]} puntos</span></div>
                    <div class="result-interpretation">
                        <div class="interpretation-title">${interpretation.title}</div>
                        <div class="interpretation-text">${interpretation.text}</div>
                    </div>
                `;
                resultsContainer.appendChild(card);
            }

            document.getElementById('testForm').classList.add('hidden');
            document.getElementById('results').classList.add('show');
            window.scrollTo(0, 0);
        });
    </script>
</body>
</html>